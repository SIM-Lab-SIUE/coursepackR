# **Lab 13: Descriptive Statistics & Data Visualization**

## **Learning Objectives**

In Lab 12, you did the hard work of "wrangling"‚Äîyou created new, meaningful variables like `party_simple` and `platform_count`. But data wrangling is just the prep work. This week, we learn how to **explore** that data.

This is the "fun" part. Data visualization allows you to *see* patterns, find relationships, and get a feel for your data before you ever run a formal statistical test.

By the end of this lab, you will be able to:


### **Pew Research Center: Required Citation**

As always, any script, report, or presentation that uses this data must include the following disclaimer:

> "Pew Research Center bears no responsibility for the analyses or interpretations of the data presented here. The opinions expressed herein, including any implications for policy, are those of the author and not of Pew Research Center.‚Äù


## **Part 1: Setup - Get Your Data Ready**

This lab **depends on your work from Lab 12**. We must first re-create the `w144_wrangled` dataset that contains all your new scales and variables.

1.  Open RStudio and create a **new R Script**.
2.  Save it in your Project folder as `Lab_13.R`.
3.  Load the `tidyverse` library.

### **Step 1: The "Wrangle Chunk" üß±**

Copy this *entire* block of code from Lab 12. This is your "wrangle chunk" that takes the raw `w144_teaching_dataset_v2.csv` and creates your final `w144_wrangled` object.

**Run this entire chunk of code.**

```{r}
library(tidyverse)

data_path <- system.file("extdata", "w144_teaching_dataset_v2.csv", package = "mccoursepack")

w144_data <- read_csv(data_path)

glimpse(w144_data)

w144_wrangled <- w144_data %>% 
  mutate(
    party_simple = case_when(
      party == "Republican" ~ "Republican",
      party == "Democrat" ~ "Democrat",
      TRUE ~ "Independent/Other"
    ) %>% 
      factor(levels = c("Republican", "Democrat", "Independent/Other")),
    platform_count = (uses_facebook == "Yes") +
                     (uses_x == "Yes") +
                     (uses_instagram == "Yes") +
                     (uses_tiktok == "Yes"),
    across(
      starts_with("fb_why_"), 
      ~ if_else(. == "Yes", 1, 0),
      .names = "{.col}_n" 
    )
  ) %>% 
  mutate(
    fb_uses_count = rowSums(
      across(starts_with("fb_why_") & ends_with("_n")), 
      na.rm = TRUE
    )
  )

glimpse(w144_wrangled)
```

    -   (Inside first `mutate`): Create 'party_simple'
    -   (Inside first `mutate`): Create 'platform_count'
    -   (Inside first `mutate`): Recode 'fb_why' items to 1/0
    -   (Inside second `mutate`): Create 'fb_uses_count' scale

After running this, your **Environment** (top-right) should contain the `w144_wrangled` object. We are now ready to explore.


## **Part 2: Descriptive Statistics (The "10,000-Foot View")**

Before we plot, let's get some quick numbers.

### **A) For `numeric` scales: `summary()`**

The `summary()` function is perfect for the scales you built (`platform_count`, `fb_uses_count`). It gives you the "five-number summary" plus the mean.

```{r}
summary(w144_wrangled$platform_count)

summary(w144_wrangled$fb_uses_count)
```


### **B) For `categorical` factors: `count()`**

The `count()` function is the best way to see the *frequencies* for categorical variables (like `party_simple`, `age_group`, or coded variables like `income`).

```{r}
w144_wrangled %>% 
  count(party_simple)

w144_wrangled %>% 
  count(age_group, sort = TRUE)

w144_wrangled %>%
  filter(!is.na(income), income != 99) %>%
  count(income, sort = TRUE)
```



## **Part 3: The Grammar of Graphics (`ggplot2`)**

`summary()` and `count()` are great, but a *picture is worth a thousand numbers*. We will use the `ggplot2` package (which is part of the `tidyverse`) to make our plots.

All `ggplot` code follows the same "grammar":

1.  `ggplot(data = ... , aes(x = ... , y = ...))`
    -   **`data`:** Your dataset (we'll use `w144_wrangled`).
    -   **`aes()`:** The "aesthetics." This is where you map variables to visual properties, like `x` (the x-axis), `y` (the y-axis), and `fill` (the color).
2.  `+`
    -   The "plus" sign connects your setup to a...
3.  `geom_...()`
    -   The "geometry." This is the *type* of plot you want (bar chart, histogram, boxplot, etc.).


## **Part 4: Plotting ONE Variable (Distributions)**

The first step in exploration is to understand the *shape* of your key variables.

### **A) Categorical Variable -\> `geom_bar()`**

**Question:** How many people are in each `party_simple` group? **Plot:** A bar chart.

```{r}
ggplot(data = w144_wrangled, aes(x = party_simple)) +
  geom_bar()
```


**`ggplot()` Challenge:**


```{r}
ggplot(data = w144_wrangled %>% filter(!is.na(income), income != 99), aes(x = factor(income))) +
  geom_bar()
```


### **B) Numeric Variable -\> `geom_histogram()`**

**Question:** What is the distribution of our `platform_count` scale? **Plot:** A histogram.

```{r}
ggplot(data = w144_wrangled, aes(x = platform_count)) +
  geom_histogram(binwidth = 1, fill = "blue", color = "white") 
```



## **Part 5: Plotting TWO Variables (Relationships)**

This is where you hunt for insights! How does one variable change in relation to another?

### **A) Categorical (X) vs. Numeric (Y) -> `geom_violin()` or `geom_boxplot()`**

**Question:** Does `platform_count` (numeric) differ by `age_group` (categorical)? **Plot:** A violin plot (or boxplot). A violin plot is like a histogram for each group, turned on its side.

```{r}
ggplot(data = w144_wrangled, aes(x = age_group, y = platform_count)) +
  geom_violin() +
  stat_summary(fun = "mean", geom = "point", color = "red", size = 3)
```


**`ggplot()` Challenge:**


```{r}
ggplot(data = w144_wrangled, aes(x = age_group, y = fb_uses_count)) +
  geom_violin() +
  stat_summary(fun = "mean", geom = "point", color = "red", size = 3)
```


### **B) Categorical (X) vs. Categorical (Fill) -\> `geom_bar(position = "fill")`**

**Question:** What is the *proportion* of TikTok use (`uses_tiktok`) in each `age_group`? **Plot:** A 100% "filled" bar chart.

```{r}
ggplot(data = w144_wrangled, aes(x = age_group, fill = uses_tiktok)) +
  geom_bar(position = "fill") 
```


**`ggplot()` Challenge:**


```{r}
ggplot(data = w144_wrangled %>% filter(!is.na(income), income != 99), aes(x = factor(income), fill = uses_tiktok)) +
  geom_bar(position = "fill")
```



## **Part 6: Polishing and Faceting (The "Power Moves")**

Your plots work, but now let's make them look professional and add more analytical power.

### **A) Polishing with `labs()`**

Let's take our violin plot from Part 5 and add clean labels. The `labs()` function lets you change all labels at once.

```{r}
ggplot(data = w144_wrangled, aes(x = age_group, y = platform_count)) +
  geom_violin() +
  stat_summary(fun = "mean", geom = "point", color = "red", size = 3) +
  labs(
    title = "Social Media Platform Use is Heavily Tied to Age",
    subtitle = "Distribution of platform count (out of 4) by age group",
    x = "Age Group",
    y = "Number of Platforms Used",
    caption = "Source: Pew Research Center, ATP W144"
  )
```


### **B) Analyzing with `facet_wrap()`**

**This is the most powerful tool in exploratory analysis.** `facet_wrap()` creates a *separate plot* for each level of a categorical variable.

**Question:** We know the distribution of `fb_uses_count` (from Part 4). But does that distribution look *different* for Democrats, Republicans, and Independents?

```{r}
ggplot(data = w144_wrangled, aes(x = fb_uses_count)) +
  geom_histogram(binwidth = 1, fill = "navy", color = "white") +
  facet_wrap(~ party_simple) +
  labs(
    title = "Facebook 'Reasons for Use' by Political Party",
    x = "Number of Reasons Cited (out of 7)",
    y = "Count of Respondents"
  )
```

