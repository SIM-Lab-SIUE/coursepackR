---
title: "Lab 13: Descriptive Statistics & Visualization"
author: "Research Methods"
format: pdf
editor: visual
---

# **Lab 13: Describing and Visualizing Data**

## **Learning Objectives**

In the previous lab, you "wrangled" your dataâ€”cleaning it and creating new variables. Now comes the fun part: telling the story of that data.

By the end of this lab, you will be able to:

-   **Calculate Frequencies:** Count categories using `count()`.
-   **Calculate Averages:** Find means and medians using `summarize()`.
-   **Visualize Categories:** Create bar charts with `ggplot2`.
-   **Visualize Distributions:** Create histograms and boxplots.
-   **Style Your Plots:** Add titles, labels, and professional themes.

## **Part 1: Setup and Data Prep**

First, we must load our tools and recreate the clean dataset we built in Lab 12.

**Step 1:** Run this chunk to load the `tidyverse` and `mccoursepack`.

```{r}
library(tidyverse)
library(mccoursepack)
```

**Step 2:** Run this chunk to load and clean the data. (This is the exact code we wrote in Lab 12, combined into one block for convenience).

```{r}
# Load raw data
data(ATP_W144_excerpt)
df <- ATP_W144_excerpt

# Rename, Recode, and Create Scales
w144_wrangled <- df %>%
  rename(
    party = F_PARTY_FINAL,
    age_cat = F_AGECAT,
    uses_facebook = SMUSE_a_W144,
    uses_x = SMUSE_c_W144,
    uses_instagram = SMUSE_d_W144,
    uses_tiktok = SMUSE_i_W144,
    fb_why_news = FBWHY_a_W144,
    fb_why_politics = FBWHY_b_W144,
    fb_why_culture = FBWHY_c_W144,
    fb_why_entertainment = FBWHY_d_W144,
    fb_why_friends = FBWHY_e_W144,
    fb_why_interests = FBWHY_f_W144,
    fb_why_reviews = FBWHY_g_W144
  ) %>%
  mutate(
    # Create Simplified Party Variable
    party_simple = case_when(
        party == 1 ~ "Republican",
        party == 2 ~ "Democrat",
        TRUE ~ "Independent/Other"
    ),
    # Recode Usage to Yes/No
    across(starts_with("uses_"), ~ if_else(. == 1, "Yes", "No")),
    # Create Platform Count (0-4)
    platform_count = (uses_facebook == "Yes") + (uses_x == "Yes") + 
                     (uses_instagram == "Yes") + (uses_tiktok == "Yes"),
    # Create FB Reasons Count (0-7)
    fb_uses_count = rowSums(
        across(starts_with("fb_why_"), ~ if_else(. %in% c(1, 2), 1, 0)), 
        na.rm = TRUE
    )
  )

# Check the final dataset
glimpse(w144_wrangled)
```

-----

## **Part 2: Categorical Statistics (Counts & Percents)**

When analyzing **categorical** data (nominal variables like `party_simple` or `uses_tiktok`), we want to know *how many* people fall into each group.

### **Frequency Tables**

The `count()` function is the quickest way to see the distribution of a variable. The code below counts how many people are in each political category.

```{r}
w144_wrangled %>%
  count(party_simple)
```

We can also calculate percentages. To do this, we use `mutate()` to divide the count (`n`) by the total number of rows (`sum(n)`).

```{r}
w144_wrangled %>%
  count(party_simple) %>%
  mutate(percent = n / sum(n))
```

### **Visualizing Categories: The Bar Chart**

The best way to visualize categorical data is a **Bar Chart**. In R, we use the package `ggplot2` (which is part of the tidyverse).

**The Grammar of Graphics:**
`ggplot()` works in layers, like painting on a canvas:

1.  **The Canvas:** `ggplot(data = ...)`
2.  **The Variables (Aesthetics):** `aes(x = ...)`
3.  **The Geometry (The shapes):** `geom_bar()`

The code below creates a simple bar chart of political parties.

```{r}
ggplot(data = w144_wrangled, aes(x = party_simple)) +
  geom_bar()
```

### **Adding Style**

That chart is accurate, but ugly. Let's add three things to make it publication-ready:

1.  **Fill Color:** Add `fill = "steelblue"` inside `geom_bar`.
2.  **Labels:** Use `labs()` to add a title and clean up axis names.
3.  **Theme:** Use `theme_minimal()` to remove the gray background.

<!-- end list -->

```{r}
ggplot(w144_wrangled, aes(x = party_simple)) +
  geom_bar(fill = "steelblue") +
  labs(
    title = "Distribution of Political Party",
    subtitle = "Pew Research Center (Wave 144)",
    x = "Political Party",
    y = "Count of Respondents"
  ) +
  theme_minimal()
```

-----

## **Part 3: Continuous Statistics (Means & Spread)**

When analyzing **continuous** data (ratio/interval variables like your `platform_count` or `fb_uses_count`), counting isn't enough. We need summary statistics like the **Mean** (average) and **Median** (middle value).

### **Summary Tables**

We use `summarize()` to calculate these stats. The code below calculates the average number of platforms used by the entire sample.

```{r}
w144_wrangled %>%
  summarize(
    average_platforms = mean(platform_count, na.rm = TRUE),
    median_platforms = median(platform_count, na.rm = TRUE),
    min_platforms = min(platform_count, na.rm = TRUE),
    max_platforms = max(platform_count, na.rm = TRUE)
  )
```

### **Comparing Groups**

Usually, we want to compare these averages across groups. We combine `group_by()` with `summarize()` to do this.

The code below answers the question: *Who uses more social media apps, Republicans or Democrats?*

```{r}
w144_wrangled %>%
  group_by(party_simple) %>%
  summarize(
    avg_platforms = mean(platform_count, na.rm = TRUE),
    avg_fb_reasons = mean(fb_uses_count, na.rm = TRUE)
  )
```

### **Visualizing Distributions: The Histogram**

To see the "shape" of continuous data, we use a **Histogram**. This shows us if the data is clumped in the middle (Normal distribution) or skewed to one side.

The code below visualizes the `fb_uses_count` scale. Note that we use `geom_histogram()` and set a `binwidth` (how wide the bars are). Since our scale counts whole numbers (0, 1, 2...), a binwidth of 1 is perfect.

```{r}
ggplot(w144_wrangled, aes(x = fb_uses_count)) +
  geom_histogram(binwidth = 1, fill = "purple", color = "white") +
  labs(
    title = "How Many Reasons Do People Use Facebook?",
    x = "Number of Reasons (0-7)",
    y = "Count"
  ) +
  theme_minimal()
```

### **Visualizing Comparisons: The Boxplot**

The **Boxplot** is the standard social science tool for comparing distributions across groups. It shows the Median (the line in the middle) and the Range (the whiskers).

The code below puts the Categorical variable (`party_simple`) on the X-axis and the Continuous variable (`platform_count`) on the Y-axis.

```{r}
ggplot(w144_wrangled, aes(x = party_simple, y = platform_count)) +
  geom_boxplot(fill = "lightgray") +
  labs(
    title = "Social Media Usage by Political Party",
    x = "Party",
    y = "Number of Platforms Used (0-4)"
  ) +
  theme_minimal()
```

## **Part 4: Challenge - Combining It All**

Let's look at one final relationship: **Age** and **Facebook Motivation**.

We will filter for only the youngest age group (`age_cat == 1`, which is 18-29) and see how many reasons they have for using Facebook compared to the oldest group (`age_cat == 4`, which is 65+).

```{r}
w144_wrangled %>%
  filter(age_cat == 1 | age_cat == 4) %>%
  ggplot(aes(x = as.factor(age_cat), y = fb_uses_count, fill = as.factor(age_cat))) +
  geom_boxplot() +
  scale_x_discrete(labels = c("1" = "18-29", "4" = "65+")) +
  labs(
    title = "Facebook Motivation: Gen Z vs. Boomers",
    x = "Age Group",
    y = "Count of Reasons for Using FB",
    fill = "Age Group"
  ) +
  theme_minimal()
```


