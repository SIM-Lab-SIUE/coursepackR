---
title: "Week 7 Lab: Introduction to R's Data Structures"
subtitle: "Student Template"
author: "Jane Doe"
format:
  html:
    theme: cosmo
    toc: true
---

## 1. Introduction

This week in lecture, we discussed **Chapter 7: Sampling**. In R, the "subset" we select from a population is stored in a **data frame**. Today, you will learn how to install/load the course package, access and view real data, and apply sampling methods using tidyverse tools.

## 2. Install and Load the Course Package

In the code chunk below, load the two packages we need for today's lab: `tidyverse` and `mccoursepack`.

```{r}
#| label: setup
#| message: false

# TODO: Load the tidyverse and mccoursepack packages
library(tidyverse)
library(mccoursepack)
```

## 3. Accessing Our Sample Data

The datasets for this course are included in the `mccoursepack` package. This means after loading the package, the data is available to use by name.

In the chunk below, type the name of the `simpsons_characters` dataset to see a preview of it.

```{r}
#| label: access-data

# TODO: Type the name of the simpsons_characters object here to preview it
simpsons_characters
simpsons_characters
simpsons_script_lines
```

## 4. View Data

Use the `View()` function (with a capital "V") to open your data in a new tab. This is very useful for exploring.

```{r}
#| label: view-data
#| eval: false
View(simpsons_characters)
View(simpsons_script_lines)
```

**After viewing the data, answer these questions:**
- What is the unit of observation in each dataset?
- What are some variables you see?

## 5. Selecting and Applying Sampling Methods

Now let's explore several tidyverse-friendly ways to sample data:

### a) `sample_n()`
Randomly select a fixed number of rows.
```{r}
simpsons_script_lines %>%
  filter(character_name == "Lisa Simpson", !is.na(spoken_words)) %>%
  sample_n(5)
```

### b) `slice_sample()`
Randomly select rows, with more flexible options (including sampling by group).
```{r}
simpsons_script_lines %>%
  filter(character_name == "Homer Simpson", !is.na(spoken_words)) %>%
  slice_sample(n = 5)
```

### c) `sample_frac()`
Randomly select a fraction of the data.
```{r}
simpsons_script_lines %>%
  filter(character_name == "Bart Simpson", !is.na(spoken_words)) %>%
  sample_frac(0.05)
```

### d) Reproducible Sampling with `set.seed()`
Set a seed to get the same sample every time you run the code.
```{r}
set.seed(123)
simpsons_script_lines %>%
  filter(character_name == "Marge Simpson", !is.na(spoken_words)) %>%
  sample_n(5)
```

---
You do not need to manually create data frames in this course. Focus on exploring, filtering, and sampling real data using tidyverse tools.