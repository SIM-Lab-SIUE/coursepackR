# mccoursepack

This repository contains the source code for the `mccoursepack` R package and its associated Quarto documentation website.

-   **Students**: Your journey starts at the official documentation website: [https://sim-lab-siue.github.io/mccoursepack/](https://sim-lab-siue.github.io/mccoursepack/). Please follow the installation and weekly workflow guides there.
-   **Instructors/Maintainers**: This `README` is for you. It covers the repository structure, maintenance tasks, and deployment workflow.

---

## �️ For Maintainers & Instructors

This package is designed to be a centralized, version-controlled distribution system for course materials.

### Repository Structure

-   `R/`: Contains all the R functions for the package (e.g., `download_week()`, `mccourse_setup()`).
-   `inst/`: The "installed" directory. Files here are copied into the package's root when a user installs it.
    -   `inst/courses/`: This is the core content directory. It holds the materials for each course, organized by week. For example, `inst/courses/mc451/week_01/` contains the Quarto document and any other files for Week 1 of MC 451.
    -   `inst/extdata/`: External data files that can be made available to users.
-   `man/`: Auto-generated R documentation files. Do not edit these directly; use `devtools::document()` instead.
-   `site/`: Contains the source files for the Quarto documentation website.
    -   `site/_quarto.yml`: The main configuration file for the website, including navigation.
    -   `site/**/*.qmd`: The Quarto markdown files that form the content of the documentation.
-   `docs/`: **This is the rendered output of the Quarto website.** The contents of this folder are served by GitHub Pages. It is generated by running `quarto render site` from the root directory.
-   `DESCRIPTION`: The metadata file for the R package.
-   `NAMESPACE`: Auto-generated by `devtools::document()`. Defines what the package exports.

### Common Maintenance Tasks

#### Adding or Updating a Week's Materials

1.  Navigate to the appropriate folder in `inst/courses/`. For example, to update Week 3 for MC 451, go to `inst/courses/mc451/week_03/`.
2.  Add, remove, or edit the files (e.g., `.qmd`, `.R`, data files) in that directory.
3.  Commit and push the changes.
4.  Inform students they need to update the package using `pak::pak("SIM-Lab-SIUE/mccoursepack")`. When they run `download_week("mc451", 3)`, they will now get the updated files.

#### Updating an R Function

1.  Edit the relevant file in the `R/` directory.
2.  Add Roxygen comments (`#'`) to document any new functions or parameters.
3.  Run `devtools::document()` in the R console to update the `NAMESPACE` and `.Rd` files in `man/`.
4.  Commit and push the changes.

#### Updating the Documentation Website

1.  Edit the `.qmd` files in the `site/` directory.
2.  To preview your changes locally, run `quarto preview site` from the root directory.
3.  Once you are satisfied, run `quarto render site` from the root directory. This will regenerate the website content in the `docs/` folder.
4.  Commit the changes in both `site/` (your source files) and `docs/` (the rendered output).
5.  Push to the `main` branch. GitHub Pages will automatically serve the updated `docs/` folder.

### Local Development Workflow

1.  **Load the package locally**: Use `devtools::load_all()` to load the package in your R session without needing to install it. This is the fastest way to test changes to R functions.
2.  **Check the package**: Run `devtools::check()` to run a comprehensive series of checks to ensure the package is well-formed.
3.  **Render the site**: As described above, use `quarto render site` to build the documentation.

---

## License

MIT © SIM Lab @ SIUE
