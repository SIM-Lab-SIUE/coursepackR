<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>chapter_12 – mccoursepack</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../../">
<script src="../../../../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../../../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../../site_libs/bootstrap/bootstrap-dfb324f25d9b1687192fa8be62ac8f9c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


<link rel="stylesheet" href="../../../../../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../../../index.html">
    <span class="navbar-title">mccoursepack</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../../../../../pages/getting-started.html" aria-current="page"> 
<span class="menu-text">Getting Started</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../pages/r-and-rstudio.html"> 
<span class="menu-text">R &amp; RStudio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../pages/git-and-github.html"> 
<span class="menu-text">Git &amp; GitHub</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../pages/quarto-basics.html"> 
<span class="menu-text">Quarto</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../pages/workflows.html"> 
<span class="menu-text">Workflows</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../pages/troubleshooting.html"> 
<span class="menu-text">Troubleshooting</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../pages/reference.qmd"> 
<span class="menu-text">Reference</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Start Here</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../pages/getting-started.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R &amp; RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../pages/r-and-rstudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">r-and-rstudio.html</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../pages/git-and-github.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Git &amp; GitHub</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../pages/quarto-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quarto Basics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Course Workflow</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
 <span class="menu-text">pages/week-1.qmd</span>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../pages/workflows.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Weekly Workflows</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../pages/troubleshooting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Troubleshooting</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Package</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
 <span class="menu-text">pages/reference.qmd</span>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#data-wrangling-importing-cleaning-and-transforming-data" id="toc-data-wrangling-importing-cleaning-and-transforming-data" class="nav-link active" data-scroll-target="#data-wrangling-importing-cleaning-and-transforming-data">Data Wrangling — Importing, Cleaning, and Transforming Data</a>
  <ul class="collapse">
  <li><a href="#the-bridge-from-raw-information-to-meaningful-insight" id="toc-the-bridge-from-raw-information-to-meaningful-insight" class="nav-link" data-scroll-target="#the-bridge-from-raw-information-to-meaningful-insight">The Bridge from Raw Information to Meaningful Insight</a></li>
  <li><a href="#the-messy-reality-of-raw-data" id="toc-the-messy-reality-of-raw-data" class="nav-link" data-scroll-target="#the-messy-reality-of-raw-data">The “Messy” Reality of Raw Data</a></li>
  <li><a href="#the-data-processing-pipeline-a-conceptual-framework" id="toc-the-data-processing-pipeline-a-conceptual-framework" class="nav-link" data-scroll-target="#the-data-processing-pipeline-a-conceptual-framework">The Data Processing Pipeline: A Conceptual Framework</a></li>
  <li><a href="#phase-1-importing-data-getting-the-raw-materials" id="toc-phase-1-importing-data-getting-the-raw-materials" class="nav-link" data-scroll-target="#phase-1-importing-data-getting-the-raw-materials">Phase 1: Importing Data — Getting the Raw Materials</a></li>
  <li><a href="#phase-2-cleaning-data-the-art-of-tidying-up" id="toc-phase-2-cleaning-data-the-art-of-tidying-up" class="nav-link" data-scroll-target="#phase-2-cleaning-data-the-art-of-tidying-up">Phase 2: Cleaning Data — The Art of Tidying Up</a>
  <ul class="collapse">
  <li><a href="#handling-missing-data" id="toc-handling-missing-data" class="nav-link" data-scroll-target="#handling-missing-data">Handling Missing Data</a></li>
  <li><a href="#correcting-inaccurate-and-inconsistent-data" id="toc-correcting-inaccurate-and-inconsistent-data" class="nav-link" data-scroll-target="#correcting-inaccurate-and-inconsistent-data">Correcting Inaccurate and Inconsistent Data</a></li>
  </ul></li>
  <li><a href="#phase-3-transforming-data-reshaping-for-analysis" id="toc-phase-3-transforming-data-reshaping-for-analysis" class="nav-link" data-scroll-target="#phase-3-transforming-data-reshaping-for-analysis">Phase 3: Transforming Data — Reshaping for Analysis</a>
  <ul class="collapse">
  <li><a href="#creating-new-variables" id="toc-creating-new-variables" class="nav-link" data-scroll-target="#creating-new-variables">Creating New Variables</a></li>
  <li><a href="#reshaping-data-wide-vs.-long" id="toc-reshaping-data-wide-vs.-long" class="nav-link" data-scroll-target="#reshaping-data-wide-vs.-long">Reshaping Data (Wide vs.&nbsp;Long)</a></li>
  <li><a href="#aggregating-and-summarizing-data" id="toc-aggregating-and-summarizing-data" class="nav-link" data-scroll-target="#aggregating-and-summarizing-data">Aggregating and Summarizing Data</a></li>
  </ul></li>
  <li><a href="#conclusion-the-unsung-hero-of-the-research-workflow" id="toc-conclusion-the-unsung-hero-of-the-research-workflow" class="nav-link" data-scroll-target="#conclusion-the-unsung-hero-of-the-research-workflow">Conclusion: The Unsung Hero of the Research Workflow</a></li>
  <li><a href="#journal-prompts" id="toc-journal-prompts" class="nav-link" data-scroll-target="#journal-prompts">Journal Prompts</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/SIM-Lab-SIUE/mccoursepack/edit/main/inst/courses/mc451/weeks/week_12/chapter_12.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/SIM-Lab-SIUE/mccoursepack/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="data-wrangling-importing-cleaning-and-transforming-data" class="level1 unnumbered">
<h1 class="unnumbered">Data Wrangling — Importing, Cleaning, and Transforming Data</h1>
<section id="the-bridge-from-raw-information-to-meaningful-insight" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="the-bridge-from-raw-information-to-meaningful-insight">The Bridge from Raw Information to Meaningful Insight</h2>
<p>Imagine you have just returned from a trip to the farmers’ market, your bags overflowing with fresh, raw ingredients for a gourmet meal. You have vibrant vegetables, high-quality proteins, and fragrant herbs. But you cannot simply throw these items into a pot and expect a masterpiece to emerge. Before the creative work of cooking can begin, there is a crucial and often laborious preparatory stage: the mise en place. You must wash the vegetables, trim the fat from the meat, chop the onions, and measure out the spices. This involves transforming raw, sometimes messy ingredients into a clean, organized, and analysis-ready state.</p>
<p>In the world of research, this essential preparatory stage is known as <strong>data wrangling</strong>. Between the moment data is collected and the moment formal analysis begins lies this critical and frequently overlooked phase of the research workflow. We may have a rich dataset from a survey, a trove of text from social media, or a spreadsheet of experimental results. Still, this raw data is rarely, if ever, ready for immediate analysis. It is often “messy,” containing errors, inconsistencies, and structural quirks that can derail our statistical tests and invalidate our conclusions. Data wrangling—sometimes called data cleaning, cleansing, or munging—is the process of importing, cleaning, structuring, and preparing this raw data to make it usable for analysis.</p>
<p>Far from being a simple janitorial task, data wrangling is a process of interpretation and decision-making that fundamentally shapes the final research findings. It is often the most time-consuming part of a research project, yet it is essential for ensuring the accuracy and integrity of the results. The adage from computer science, “garbage in, garbage out,” is the unofficial motto of this stage. A sophisticated statistical model is worthless if it is fed flawed data.</p>
<p>This chapter provides a tool-agnostic guide to the principles and logic of data wrangling. We will not focus on the specific commands of any single software package, but on the conceptual challenges that every researcher faces when confronting raw data. We will walk through a logical, three-phase data processing pipeline: importing data from various sources, cleaning it to address common problems like missing values and inconsistencies, and transforming it into a structure that is optimized for analysis. Throughout, we will emphasize the modern standard of a <strong>reproducible workflow</strong>, a practice that ensures our data preparation is transparent, verifiable, and repeatable—a hallmark of rigorous and ethical research.</p>
</section>
<section id="the-messy-reality-of-raw-data" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="the-messy-reality-of-raw-data">The “Messy” Reality of Raw Data</h2>
<p>In an ideal world, the data we collect would arrive in a perfectly structured, error-free format, ready for immediate analysis. In the real world, of course, data is rarely so cooperative. Raw data is often messy, incomplete, and formatted in ways that are hostile to analysis. Understanding the familiar sources of this “dirtiness” is the first step in learning how to clean it.</p>
<ul>
<li><p><strong>Manual Data Entry Errors:</strong> Whenever humans are involved in entering data, errors are inevitable. This can include simple typographical errors, misspellings, or inconsistent data entry practices (e.g., one person entering “Male” and another entering “M”).</p></li>
<li><p><strong>Inconsistencies from Multiple Sources:</strong> Combining data from different sources often results in inconsistencies due to varying formats, naming conventions, and coding schemes. Harmonizing these disparate datasets into a single, consistent whole is a significant challenge.</p></li>
<li><p><strong>Unstructured or Semi-Structured Formats:</strong> A great deal of communication data, especially from digital sources, does not come in the neat rows and columns of a spreadsheet. Data from social media APIs often arrives in a nested JSON format, while information on websites is embedded in HTML. Extracting the relevant information from these formats requires a specific set of wrangling techniques.</p></li>
<li><p><strong>Missing Data:</strong> It is extremely common for datasets to have gaps—questions that a survey respondent skipped, information that failed to record, or fields that are simply not applicable to a given case. These missing values must be handled deliberately, as they can cause many statistical functions to fail.</p></li>
<li><p><strong>Software-Specific Quirks:</strong> The way data is exported from one program (e.g., a survey platform) may not be the way it needs to be formatted for an analysis program. This can lead to issues with data types (e.g., numbers being treated as text), problematic column names, or hidden characters that can cause errors during import.</p></li>
</ul>
<p>Confronting this messy reality can be frustrating, but it is a universal experience for researchers. The systematic process of data wrangling is the set of skills that allows us to tame this chaos and impose a logical order on our information, creating a solid foundation for the analysis to come.</p>
</section>
<section id="the-data-processing-pipeline-a-conceptual-framework" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="the-data-processing-pipeline-a-conceptual-framework">The Data Processing Pipeline: A Conceptual Framework</h2>
<p>It is helpful to think of the data wrangling process not as a single, monolithic task, but as a logical pipeline with three distinct but interconnected phases: (1) Importing, (2) Cleaning, and (3) Transforming. While in practice, a researcher may move back and forth between these stages, they represent a coherent workflow for moving from raw files to an analysis-ready dataset.</p>
<p>Underpinning this entire pipeline is the principle of a <strong>reproducible workflow</strong>. The traditional, manual approach to data wrangling often involves opening a file in a spreadsheet program like Microsoft Excel and making a series of point-and-click changes: deleting rows, correcting values by hand, using formulas in cells, and cutting and pasting data. While intuitive, this approach is fraught with peril. It is difficult for others (or even for your future self) to know exactly what changes were made, it is prone to human error, and it is impossible to repeat if the raw data is updated easily.</p>
<p>The modern, reproducible approach involves writing a <strong>script</strong>—a series of text-based commands in a program like R or Python—that documents. It executes every single step of the wrangling process. This script serves as a precise, shareable, and repeatable recipe for how the raw data was processed. This ensures transparency, minimizes error, and allows the entire workflow to be re-run with a single command if the data changes. While this book is tool-agnostic, the principles we discuss are best implemented within such a scripted, reproducible framework.</p>
</section>
<section id="phase-1-importing-data-getting-the-raw-materials" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="phase-1-importing-data-getting-the-raw-materials">Phase 1: Importing Data — Getting the Raw Materials</h2>
<p>The first step in any data-driven project is to get the data out of its original source file and into your chosen analysis environment. This can be a surprisingly complex task, given the wide variety of file formats and data sources a communication researcher might encounter.</p>
<p><strong>Common Data Formats:</strong></p>
<ul>
<li><p><strong>Structured (Tabular) Files:</strong> The most common format for quantitative data. This includes comma-separated values (.csv) files, tab-separated values (.tsv) files, and proprietary spreadsheet files like Microsoft Excel (.xlsx).</p></li>
<li><p><strong>Semi-Structured Files:</strong> Data that has some organizational structure but does not fit neatly into a table. This includes JSON (JavaScript Object Notation), which is the standard format for data from web APIs, and HTML, the language of web pages.</p></li>
<li><p><strong>Unstructured Files:</strong> Data with no pre-defined data model, such as plain text files (.txt) containing interview transcripts or news articles, or Portable Document Format (.pdf) files, which are notoriously difficult to extract data from.</p></li>
</ul>
<p>Conceptual Challenges in Importing:</p>
<p>Regardless of the specific tool used, the researcher must provide it with a set of instructions to interpret the source file correctly. This involves considering several key questions:</p>
<ul>
<li><p><strong>Does the file have a header row?</strong> The first row of a tabular file often contains the column names. The import tool needs to know whether to treat this row as data or as headers.</p></li>
<li><p><strong>What character separates the values?</strong> For a .csv file, it is a comma, but other files might use tabs, semicolons, or other delimiters.</p></li>
<li><p><strong>Are there non-data rows to skip?</strong> Some files, especially those exported from official sources, may have several rows of introductory notes or metadata at the top that need to be skipped during the import process.</p></li>
<li><p><strong>What data types should be assigned?</strong> The import tool will often try to guess the data type for each column (e.g., numeric, character, date), but its guess can be wrong. For example, a column of U.S. ZIP codes should be treated as text, not as numbers, because performing mathematical operations on them (like calculating an average) is meaningless. The researcher may need to specify the correct data types for certain columns explicitly.</p></li>
</ul>
<p>Immediately after importing a dataset, it is essential to perform a quick <strong>“data interview”</strong> or initial assessment. This involves examining the first few rows, the last few rows, and a basic summary of the data. This simple check helps to confirm that the data was imported correctly and provides a first glimpse into the structure and content of the dataset, revealing potential issues that will need to be addressed in the cleaning phase.</p>
</section>
<section id="phase-2-cleaning-data-the-art-of-tidying-up" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="phase-2-cleaning-data-the-art-of-tidying-up">Phase 2: Cleaning Data — The Art of Tidying Up</h2>
<p>Once the data is successfully imported, the meticulous work of cleaning begins. This process involves identifying and correcting errors, inconsistencies, and other issues that make raw data “dirty.” The goal is to create a dataset that is accurate, consistent, and uniformly formatted.</p>
<section id="handling-missing-data" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="handling-missing-data">Handling Missing Data</h3>
<p>Missing data, often represented in a dataset as NA (Not Available) or a blank cell, is one of the most common problems a researcher will encounter. It can occur for many reasons: a survey respondent skipped a question, a piece of equipment failed to record a value, or the information simply does not exist for a particular case. Missing data is problematic because many statistical functions will produce an error or an incorrect result if they encounter it. A researcher must make a deliberate and well-justified decision about how to handle these gaps.</p>
<ul>
<li><p><strong>Removal (or Deletion):</strong> The most straightforward strategy is to remove the cases (rows) that have missing values. This is often a reasonable approach, especially with enormous datasets where the number of missing cases is small. However, this strategy can be dangerous. If the cases with missing data are systematically different from the cases without it (e.g., if lower-income respondents are more likely to skip a question about income), then simply deleting them can introduce a significant bias into the sample and threaten the validity of the results.</p></li>
<li><p><strong>Imputation:</strong> An alternative to removal is imputation, which is the process of estimating or filling in the missing values based on other available information. Simple imputation methods might involve replacing the missing values with the mean or median of the column. More sophisticated methods use statistical models to predict the most likely value for the missing data point based on the other variables in the dataset. Imputation can preserve sample size but must be done with caution and should always be transparently reported.</p></li>
</ul>
</section>
<section id="correcting-inaccurate-and-inconsistent-data" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="correcting-inaccurate-and-inconsistent-data">Correcting Inaccurate and Inconsistent Data</h3>
<p>Raw data is often rife with inconsistencies that must be standardized before analysis.</p>
<p><strong>Standardizing Formats:</strong> This involves ensuring that all values for a given variable are represented uniformly. This includes:</p>
<ul>
<li><strong>Date and Time:</strong> Ensuring all dates are in a single, consistent format (e.g., YYYY-MM-DD) so that date-based calculations can be performed.</li>
<li><strong>Units of Measurement:</strong> Converting all measurements to a consistent unit (e.g., converting some temperature readings from Fahrenheit to Celsius so all are on the same scale).</li>
<li><strong>Text Case:</strong> Converting all text in a categorical variable to a consistent case (e.g., all lowercase) to ensure that “USA,” “usa,” and “U.S.A.” are all treated as the same category.</li>
<li><strong>Correcting Errors:</strong> This involves identifying and fixing obvious errors. This can include <strong>illegal values</strong>, such as a “6” on a 5-point Likert scale, or clear typographical errors in text data.</li>
<li><strong>Handling Duplicates:</strong> Datasets, especially those created by merging multiple files, can sometimes contain duplicate records. These must be identified and removed to avoid artificially inflating sample size and skewing statistical results.</li>
</ul>
</section>
</section>
<section id="phase-3-transforming-data-reshaping-for-analysis" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="phase-3-transforming-data-reshaping-for-analysis">Phase 3: Transforming Data — Reshaping for Analysis</h2>
<p>The final stage of the wrangling process is transformation. This involves restructuring, reshaping, and enriching the now-clean dataset to make it ideally suited for the specific analyses and visualizations the researcher plans to conduct.</p>
<section id="creating-new-variables" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="creating-new-variables">Creating New Variables</h3>
<p>Often, the variables needed for analysis are not present in the raw data but must be derived from existing columns. This is a key part of the operationalization process, where abstract concepts are turned into measurable variables.</p>
<ul>
<li><p><strong>Mathematical Transformations:</strong> This can involve simple arithmetic, such as creating a new variable for “age” by subtracting a “birth year” variable from the current year. It can also involve more complex calculations, like creating a composite index score by averaging a respondent’s answers to several related Likert-scale items, or converting raw counts into rates or percentages to allow for fair comparisons between groups of different sizes.</p></li>
<li><p><strong>Categorical Transformations:</strong> This might involve collapsing a continuous variable, like age, into a smaller number of ordinal categories (e.g., “18-29,” “30-49,” “50-64,” “65+”). This process, sometimes called <strong>dichotomizing</strong> or binning, can simplify analysis but also results in a loss of information and should be done with a clear theoretical justification.</p></li>
</ul>
</section>
<section id="reshaping-data-wide-vs.-long" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="reshaping-data-wide-vs.-long">Reshaping Data (Wide vs.&nbsp;Long)</h3>
<p>Data can be structured in different ways, and the optimal structure depends on the task at hand. The two most common structures are “wide” and “long.”</p>
<ul>
<li><p><strong>Wide Format:</strong> This format is common in spreadsheets. Each row represents a single subject or case, and each observation for that subject is in a separate column. For example, a dataset measuring student test scores at three different time points might have the columns: student_id, score_time1, score_time2, score_time3.</p></li>
<li><p><strong>Long (or “Tidy”) Format:</strong> In this format, each row represents a single observation. The same data would be structured with the columns: student_id, time, score. This would result in three rows for each student.</p></li>
</ul>
<p>While the wide format can be intuitive for data entry, the long format is often far more flexible and powerful for analysis and visualization, especially in modern statistical software. The process of converting data between these formats is a common and essential data transformation task.</p>
</section>
<section id="aggregating-and-summarizing-data" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="aggregating-and-summarizing-data">Aggregating and Summarizing Data</h3>
<p>One of the most common transformations is to move from individual-level data to group-level summaries. This is the process of <strong>aggregation</strong>. It involves grouping the dataset by one or more categorical variables and then calculating a summary statistic (such as a count, sum, mean, or median) for each group. For example, a researcher might take a dataset of individual political donations and aggregate it to calculate the total amount of money donated to each candidate, or the average donation size per state. This is how we move from a mountain of raw data to the high-level insights that often form the core of our research findings.</p>
</section>
</section>
<section id="conclusion-the-unsung-hero-of-the-research-workflow" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="conclusion-the-unsung-hero-of-the-research-workflow">Conclusion: The Unsung Hero of the Research Workflow</h2>
<p>Data wrangling is the unsung hero of the research workflow. It is the detailed, often difficult, but absolutely essential work that makes all subsequent analysis possible. It is the bridge that connects the chaotic reality of raw, collected information to the ordered world of clean, structured data from which we can derive meaningful insights.</p>
<p>The principles of importing, cleaning, and transforming data are universal, tool-agnostic skills that are fundamental to modern research literacy. The ability to confront a messy dataset, diagnose its problems, and systematically apply a series of logical steps to bring it into an analysis-ready state is a core competency of the contemporary researcher. By embracing a reproducible, script-based approach to this process, we not only make our work more efficient and less error-prone, but we also uphold the highest standards of scientific transparency and integrity. The investment of time and effort in meticulous data wrangling is an investment in the ultimate quality, credibility, and impact of your research.</p>
</section>
<section id="journal-prompts" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="journal-prompts">Journal Prompts</h2>
<ol type="1">
<li><p>Have you ever worked with a spreadsheet, dataset, or even a shared document that felt chaotic or disorganized? Describe the experience. What kinds of “messiness” did you encounter? Looking back, which data wrangling principles from this chapter would have helped clean it up?</p></li>
<li><p>Imagine you’re analyzing survey data and discover that some responses are missing or strangely formatted. You realize you could remove them, impute values, or rewrite categories to make things “fit.” What would guide your decision-making in that situation? How does data cleaning impact the honesty and transparency of research?</p></li>
<li><p>The chapter argues that wrangling is not just technical work—it’s interpretive. Think about a time you had to make a judgment call while organizing information (e.g., editing a document, categorizing files, formatting content). How might similar interpretive choices show up in data wrangling? How does this shape the final story your data tells?</p></li>
</ol>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/sim-lab-siue\.github\.io\/mccoursepack");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/SIM-Lab-SIUE/mccoursepack/edit/main/inst/courses/mc451/weeks/week_12/chapter_12.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/SIM-Lab-SIUE/mccoursepack/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer><script src="../../../../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>