---
title: "Week 7 Lab: Introduction to R's Data Structures"
subtitle: "Student Template"
author: "Jane Doe"
format:
  html:
    theme: cosmo
    toc: true
---

## 1. Introduction

This week in lecture, we discussed **Chapter 7: Sampling**. In R, the "subset" we select from a population is stored in a **data frame**. Today, you will learn how to install/load the course package, access and view real data, and apply sampling methods using tidyverse tools.

## 2. Install and Load the Course Package

Make sure you have the latest version of the course package. If you need to install it, use:

```{r}
#| label: setup
#| message: false

# TODO: Load the tidyverse and mccoursepack packages
library(tidyverse)
library(mccoursepack)
```

## 3. Accessing Our Sample Data

The datasets for this course are included in the `mccoursepack` package. This means after loading the package, the data is available to use by name.

In the chunk below, type the name of the `simpsons_characters` dataset to see a preview of it.

```{r}
#| label: access-data

# TODO: Type the name of the simpsons_characters object here to preview it
simpsons_characters
```

## 4. Sampling Data in R: A First Look

One of R's strengths is its ability to sample data. Let's see how we can take a random sample of lines spoken by a specific character (e.g., Lisa Simpson) from the `simpsons_script_lines` dataset.

Use the `View()` function (with a capital "V") to open your data in a new tab. This is very useful for exploring.

```{r}
#| label: view-data
#| eval: false
View(simpsons_characters)
View(simpsons_script_lines)
```

**After viewing the data, answer these questions:**

- What is the unit of observation in each dataset?
- What are some variables you see?

## 5. Selecting and Applying Sampling Methods

Now let's explore several tidyverse-friendly ways to sample data:

### a) `sample_n()`
Randomly select a fixed number of rows.
```{r}
simpsons_script_lines %>%
  filter(character_name == "Lisa Simpson", !is.na(spoken_words)) %>%ly select a fixed number of rows.
  sample_n(5)
```
t_lines %>%
### b) `slice_sample()`ilter(character_name == "Homer Simpson", !is.na(spoken_words)) %>%
Randomly select rows, with more flexible options (including sampling by group).  sample_n(10)
```{r}
simpsons_script_lines %>%
  filter(character_name == "Homer Simpson", !is.na(spoken_words)) %>% `slice_sample()`
  slice_sample(n = 5)
```by group).

### c) `sample_frac()`{r}
Randomly select a fraction of the data.simpsons_script_lines %>%
```{r}e == "Marge Simpson", !is.na(spoken_words)) %>%
simpsons_script_lines %>%
  filter(character_name == "Bart Simpson", !is.na(spoken_words)) %>%
  sample_frac(0.05)
```

### d) Reproducible Sampling with `set.seed()`domly select a fraction of the data.
Set a seed to get the same sample every time you run the code.
```{r}
set.seed(123)
simpsons_script_lines %>%er(character_name == "Bart Simpson", !is.na(spoken_words)) %>%
  filter(character_name == "Marge Simpson", !is.na(spoken_words)) %>%(0.05)
  sample_n(5)
```
ucible Sampling with `set.seed()`
---
You do not need to manually create data frames in this course. Focus on exploring, filtering, and sampling real data using tidyverse tools.2.  How many observations are in this sample? How many variables?

    > There are 6,722 observations (characters) and 4 variables.

## 5. Conclusion

Congratulations on completing your first R lab! You've successfully loaded packages, accessed and viewed data, and learned the difference between an observation and a variable.