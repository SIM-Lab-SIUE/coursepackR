---
title: "Week 13: Descriptive Statistics and Visualization"
subtitle: "The First Look: From Raw Data to Understanding"
format: html
editor: visual
---

> **Required Citation:**
> Pew Research Center, "ATP W144: Politics and News on Social Media Platforms."
> Pew Research Center, Washington, D.C. (March 2024).
>
> **Required Disclaimer:**
> Pew Research Center bears no responsibility for the analyses or interpretations of the data presented here. The opinions expressed herein, including any implications for policy, are those of the author and not of Pew Research Center.

## Introduction

This lab follows **Chapter 13: Descriptive Statistics and Visualization**. Now that we have our `w144_clean.csv` file from Lab 12, our job is to "get to know our data." We will use descriptive statistics (mean, median, range) and data visualizations (`ggplot2`) to summarize our sample.

## 1. Setup: Load Packages and Data

We load the `tidyverse` (which includes `ggplot2`) and `skimr` for great summary tables. We will load the **clean CSV** we created in Lab 12.

```{r load-packages-data, message=FALSE, warning=FALSE}
library(tidyverse)
library(skimr) # For easy descriptive stats
library(mccoursepack)

# Load the excerpted Pew data from our course package
data("w144_excerpt")
w144_clean <- w144_excerpt
```

## 2. Descriptive Statistics (The Numbers)

Chapter 13 discusses *central tendency* (mean, median) and *dispersion* (standard deviation).

### A. Overall Summary

The `skim()` function gives us a powerful first look at all our variables. Let's focus on the `fb_news_diversity_score` we created.

```{r skim}
w144_clean %>%
  select(fb_news_diversity_score, ideology, party_factor) %>%
  skim()
```

**Questions to Answer:**
* What is the mean `fb_news_diversity_score`? What is the median?
* What are the "Measures of Central Tendency" for this score? (Mean, Median)
* What are the "Measures of Dispersion"? (SD, Range = max - min)

### B. Grouped Summaries

Let's get descriptives for our composite score, grouped by political party.

```{r grouped-summary}
w144_clean %>%
  # Remove NAs from party_factor so it isn't a group
  filter(!is.na(party_factor)) %>%
  group_by(party_factor) %>%
  summarize(
    count = n(),
    mean_score = mean(fb_news_diversity_score, na.rm = TRUE),
    sd_score = sd(fb_news_diversity_score, na.rm = TRUE),
    median_score = median(fb_news_diversity_score, na.rm = TRUE)
  )
```

## 3. Data Visualization (The Pictures)

We will now use `ggplot2` to visualize our data. Remember the "grammar of graphics": `ggplot(data, aes(x, y)) + geom...()`

### A. Showing a Distribution (Single Variable)

A histogram is the best way to see the *shape* of our new `fb_news_diversity_score`.

```{r viz-histogram, warning=FALSE}
# Plot the distribution of our composite score
ggplot(w144_clean, aes(x = fb_news_diversity_score)) +
  geom_histogram(binwidth = 0.25, color = "white", fill = "steelblue") +
  labs(
    title = "Distribution of Facebook News Diversity Scores",
    x = "FB News Diversity Score (1=Low, 4=High)",
    y = "Count"
  ) +
  theme_minimal()
```

### B. Comparing Categories

A bar chart is perfect for comparing counts or means across groups.

```{r viz-bar-chart, warning=FALSE}
# Bar Chart: How many people are in each party category?
ggplot(w144_clean, aes(x = party_factor)) +
  geom_bar(fill = "darkred") +
  labs(
    title = "Respondent Political Party",
    x = "Party",
    y = "Number of Respondents"
  ) +
  theme_minimal()
```

A boxplot is even better for comparing distributions (Chapter 13).
```{r viz-boxplot, warning=FALSE}
# Boxplot: Is the news diversity score different by party?
ggplot(w144_clean, aes(x = party_factor, y = fb_news_diversity_score)) +
  geom_boxplot() +
  labs(
    title = "FB News Diversity Score, by Political Party",
    x = "Political Party",
    y = "FB News Diversity Score (1-4)"
  ) +
  theme_minimal()
```

### C. Showing a Relationship (Two Variables)

A scatterplot is the best tool for visualizing the relationship between two continuous variables. Our `ideology` variable is a 1-5 scale, so it works well.

```{r viz-scatterplot, warning=FALSE}
# Scatterplot: Is ideology related to news diversity?
# We add geom_jitter() to spread out the overlapping dots
ggplot(w144_clean, aes(x = ideology, y = fb_news_diversity_score)) +
  geom_jitter(alpha = 0.2, width = 0.25) + # alpha adds transparency, width jitters
  geom_smooth(method = "lm") + # Adds a regression line
  labs(
    title = "Political Ideology vs. FB News Diversity",
    x = "Ideology (1=V. Conservative, 5=V. Liberal)",
    y = "FB News Diversity Score (1-4)"
  ) +
  theme_minimal()

