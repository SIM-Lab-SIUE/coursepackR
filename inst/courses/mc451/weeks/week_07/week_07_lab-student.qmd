---
title: "Week 7 Lab: From Physical to Digital Sampling"
subtitle: "A Two-Part Lab on Analyzing Samples in R"
author: "Your Name"
format:
  pdf:
    toc: true
    number-sections: true
---

## 1. Welcome & Objectives

Today's lab is a two-part, hands-on activity. First, you will draw and analyze a **physical sample** of dice. Then, you will apply the same logic to analyze a **digital sample** from a real survey dataset. This will show how the core principles of sampling are the same whether you're holding the data in your hand or exploring it on a computer.

**Learning Goals:**

-   Draw a physical sample and enter its data into RStudio.
-   Analyze a digital sample from a real-world dataset.
-   See how R can be used to quickly summarize and visualize data from any sample.
-   Understand the connection between a sample and the population it comes from.

## 2. Getting Set Up

First, make sure you are in your RStudio project. We will use the `tidyverse` package for this lab.

```{r}
library(tidyverse)
```

## 3. Part 1: Your Physical Sample (Dice ðŸŽ²)

Let's start with something tangible. The bag of 200 dice is our **population**. The composition of the dice in the bag is as follows:

-   **D4 - 15**
-   **D6 - 60**
-   **D8 - 15**
-   **D10 - 25**
-   **D12 - 20**
-   **D20 - 40**
-   **D100 - 25**

### Step 1.1: Draw and Tally Your Sample

Each student will draw a **simple random sample** of **20 dice** from the bag. On a piece of paper, count how many of each die type you have (D4, D6, D8, etc.).

### Step 1.2: Enter Your Data in RStudio

Find the `my_dice_sample` tibble in the code chunk below. **Your only task is to replace the zeros (`0`) in the `count` column with the numbers you just tallied.**

```{r}
#| label: enter-dice-data
# ðŸ‘‰ YOUR ACTION REQUIRED ðŸ‘ˆ
# Replace the zeros with your counts. The total should be 20.
my_dice_sample <- tibble(
  die_type = c("D4", "D6", "D8", "D10", "D12", "D20", "D100"),
  count = c(0, 0, 0, 0, 0, 0, 0) # e.g., c(2, 6, 3, 2, 2, 4, 1)
)

print(my_dice_sample)
```

### Step 1.3: Calculate Percentages for All Dice

```{r}
all_percentages <- my_dice_sample %>%
  mutate(percentage = (count / sum(count)) * 100)

print(all_percentages)
```

### Step 1.4: Visualize Your Dice Sample

```{r}
ggplot(my_dice_sample,
       aes(x = die_type,
           y = count,
           fill = die_type)
       ) +
  geom_col() +
  theme_minimal() +
  labs(
    title = "The Composition of My Dice Sample",
    x = "Type of Die",
    y = "Count in Sample"
  )
```

### Step 1.5: Reflection

The true proportions of dice in the bag are as follows:

-   **D4**: 7.5%
-   **D6**: 30%
-   **D8**: 7.5%
-   **D10**: 12.5%
-   **D12**: 10%
-   **D20**: 20%
-   **D100**: 12.5%

Compare the percentages in your sample to these true proportions. The difference between your sample's result and these true values is called **sampling error**.

---

## 4. Part 2: Your Digital Sample (Survey Data)

Now, let's apply the same logic to a real survey dataset. We'll use a random sample from a large Pew Research Center survey.

### Step 2.1: Loading the Data

When you load the `mccoursepack` package, the excerpted Pew dataset is available as `w144_excerpt`. Load it just like you would with other famous datasets (e.g., `penguins` from `palmerpenguins`).

```{r}
library(mccoursepack)
#> mccoursepack v0.1.0: Pew Research Center ATP W144 excerpt loaded. See ?w144_excerpt for details.
data(w144_excerpt)
glimpse(w144_excerpt)
```

-   You should see a message confirming the data is loaded, just like with `palmerpenguins` or `ggplot2::mpg`.

### Step 2.2: Take a Random Sample

Let's take a simple random sample of 50 people from the dataset.

```{r}
set.seed(123)
my_sample <- w144_excerpt %>%
  slice_sample(n = 50)

print(my_sample)
```

### Step 2.3: Summarize and Visualize Your Sample

What is the average number of platforms used (`platform_count`) in your sample?

```{r}
mean_platforms <- mean(my_sample$platform_count, na.rm = TRUE)
mean_platforms
```

Make a bar chart of the `age_group` distribution in your sample:

```{r}
my_sample %>%
  count(age_group) %>%
  ggplot(aes(x = age_group, y = n, fill = age_group)) +
  geom_col() +
  theme_minimal() +
  labs(
    title = "Age Group Distribution in My Sample",
    x = "Age Group",
    y = "Count"
  )
```

---

## 5. Reflection

-   How does the average `platform_count` in your sample compare to the whole dataset? Try calculating the mean for the full dataset and compare.
-   How does the distribution of `age_group` in your sample compare to the full dataset?
-   What do you notice about sampling error and variation?

------------------------------------------------------------------------

> "Pew Research Center bears no responsibility for the analyses or interpretations of the data presented here. The opinions expressed herein, including any implications for policy, are those of the author and not of Pew Research Center."