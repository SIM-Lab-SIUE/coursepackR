title: "Week 9 Lab: Importing and Joining Data"

## Week 9: Importing and Joining Data (with a Qualtrics Focus)

-   **Textbook Chapter:** 9: Survey Research\
-   **Dataset:** `w144_excerpt` (from the `mccoursepack` package)\
-   **Core Functions/Packages:** `dplyr::left_join()`, `dplyr::mutate()`, `dplyr::case_when()`, `tidyverse`

### Note

This week will include a Qualtrics demonstration. We will also practice joining and transforming data in R using real survey data from Pew Research Center (ATP W144).

### Lab Activities

1.  **Load the Data**
    -   Load the Pew dataset using: `r     library(mccoursepack)     library(tidyverse)     data(w144_excerpt)     df <- w144_excerpt`
    -   Use `glimpse(df)` to explore the structure.
2.  **Create a New Data Frame**
    -   Suppose you want to join a new variable to this data. Create a small data frame with country-level region info: `r     region_lookup <- tibble(       country = c("United States", "Canada", "France", "Germany", "Japan"),       region = c("Americas", "Americas", "Europe", "Europe", "Asia")     )`
    -   (You may need to adjust country names to match those in `df$country`.)
3.  **Join the Data**
    -   Use `left_join()` to add the region info to the Pew data: `r     df_joined <- left_join(df, region_lookup, by = "country")     glimpse(df_joined)`
    -   How many rows have a non-missing `region`? What does this tell you about the join?
4.  **Explore and Summarize**
    -   Use `count(df_joined, region)` to see the number of respondents by region (including NAs).
    -   Try creating a new variable, e.g., `r     df_joined <- df_joined %>% mutate(is_young = age < 30)`
    -   Summarize the average of a numeric variable by region (where available), e.g.: `r     df_joined %>% group_by(region) %>% summarize(mean_age = mean(age, na.rm = TRUE))`
5.  **Discussion**
    -   Why are unique IDs or keys important for joining tables?
    -   How does this relate to survey research and Qualtrics data merges?

------------------------------------------------------------------------

*All code should use tidyverse functions where possible. Avoid base R unless necessary.*